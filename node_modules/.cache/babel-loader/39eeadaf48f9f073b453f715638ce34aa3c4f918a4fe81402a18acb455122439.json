{"ast":null,"code":"import axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nimport EditArticleModal from \"./EditArticleModal.vue\";\nexport default {\n  components: {\n    EditArticleModal\n  },\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(10);\n    const showEditModal = ref(false);\n    const selectedArticle = ref(null);\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(`http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          }\n        });\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n        fetchArticles();\n      }\n    };\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n        fetchArticles();\n      }\n    };\n    const deleteArticle = async id => {\n      try {\n        await axios.delete(`http://103.164.54.252:8000/api/articles/${id}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          }\n        });\n        fetchArticles();\n      } catch (error) {\n        console.error(\"Failed to delete article:\", error);\n      }\n    };\n    const openEditModal = article => {\n      selectedArticle.value = {\n        ...article\n      };\n      showEditModal.value = true;\n    };\n    const updateArticle = async updatedArticle => {\n      try {\n        await axios.put(`http://103.164.54.252:8000/api/articles/${updatedArticle.id}`, updatedArticle, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          }\n        });\n        fetchArticles();\n        showEditModal.value = false;\n      } catch (error) {\n        console.error(\"Failed to update article:\", error);\n      }\n    };\n    onMounted(fetchArticles);\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      deleteArticle,\n      openEditModal,\n      showEditModal,\n      selectedArticle\n    };\n  }\n};","map":{"version":3,"names":["axios","useAuthStore","ref","computed","onMounted","EditArticleModal","components","setup","authStore","articles","isLoading","currentPage","perPage","totalPages","showEditModal","selectedArticle","fetchArticles","value","response","get","headers","Authorization","token","data","Math","ceil","total","error","console","prevPage","nextPage","deleteArticle","id","delete","openEditModal","article","updateArticle","updatedArticle","put"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div v-if=\"isLoading\" class=\"text-center my-8\">\n      <p>Loading...</p>\n    </div>\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-5 rounded-xl shadow-lg flex flex-col hover:scale-105 transition duration-200\"\n      >\n        <div class=\"flex-grow\">\n          <img\n            :src=\"article.image\"\n            alt=\"Article Image\"\n            class=\"w-full h-48 object-cover mb-4 rounded-lg\"\n          />\n          <h2 class=\"text-sm font-semibold mb-4\">\n            {{ article.title }}\n          </h2>\n        </div>\n        <div class=\"mt-auto\">\n          <a\n            class=\"flex justify-end items-center gap-x-2 py-1 px-3 bg-slate-200 font-semibold rounded-xl text-sm mt-auto hover:bg-slate-300\"\n            :href=\"article.source_url\"\n            target=\"_blank\"\n            >Read More\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              class=\"lucide lucide-arrow-right\"\n            >\n              <path d=\"M5 12h14\" />\n              <path d=\"m12 5 7 7-7 7\" />\n            </svg>\n          </a>\n        </div>\n        <div class=\"flex justify-between mt-2\">\n          <button\n            @click=\"openEditModal(article)\"\n            class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n          >\n            Edit\n          </button>\n          <button\n            @click=\"deleteArticle(article.id)\"\n            class=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"articles.length === 0 && !isLoading\" class=\"text-center my-8\">\n      <p>No articles found.</p>\n    </div>\n    <div\n      v-if=\"articles.length > 0 && !isLoading\"\n      class=\"mt-6 flex justify-end gap-x-5\"\n    >\n      <button\n        @click=\"prevPage\"\n        :disabled=\"currentPage === 1\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-left\"\n        >\n          <path d=\"m15 18-6-6 6-6\" /></svg\n        >Previous\n      </button>\n      <button\n        @click=\"nextPage\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        Next<svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-right\"\n        >\n          <path d=\"m9 18 6-6-6-6\" />\n        </svg>\n      </button>\n    </div>\n    <edit-article-modal\n      v-if=\"showEditModal\"\n      :article=\"selectedArticle\"\n      @close=\"showEditModal = false\"\n      @save=\"updateArticle\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nimport EditArticleModal from \"./EditArticleModal.vue\";\n\nexport default {\n  components: {\n    EditArticleModal,\n  },\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(10);\n    const showEditModal = ref(false);\n    const selectedArticle = ref(null);\n\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\n          `http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n        fetchArticles();\n      }\n    };\n\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n        fetchArticles();\n      }\n    };\n\n    const deleteArticle = async (id) => {\n      try {\n        await axios.delete(`http://103.164.54.252:8000/api/articles/${id}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`,\n          },\n        });\n        fetchArticles();\n      } catch (error) {\n        console.error(\"Failed to delete article:\", error);\n      }\n    };\n\n    const openEditModal = (article) => {\n      selectedArticle.value = { ...article };\n      showEditModal.value = true;\n    };\n\n    const updateArticle = async (updatedArticle) => {\n      try {\n        await axios.put(\n          `http://103.164.54.252:8000/api/articles/${updatedArticle.id}`,\n          updatedArticle,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        fetchArticles();\n        showEditModal.value = false;\n      } catch (error) {\n        console.error(\"Failed to update article:\", error);\n      }\n    };\n\n    onMounted(fetchArticles);\n\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      deleteArticle,\n      openEditModal,\n      showEditModal,\n      selectedArticle,\n    };\n  },\n};\n</script>\n\n<style>\n/* CSS styling can be added here for additional customization */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}