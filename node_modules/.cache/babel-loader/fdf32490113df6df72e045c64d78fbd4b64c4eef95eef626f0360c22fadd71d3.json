{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-6\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"Articles\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-center my-8\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading...\", -1 /* HOISTED */);\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  key: 1,\n  class: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n};\nconst _hoisted_7 = {\n  class: \"flex-grow\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"text-sm font-semibold mb-4\"\n};\nconst _hoisted_10 = {\n  class: \"mt-auto\"\n};\nconst _hoisted_11 = [\"href\"];\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"lucide lucide-arrow-right\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M5 12h14\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m12 5 7 7-7 7\"\n})], -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"flex justify-between mt-2\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  key: 2,\n  class: \"text-center my-8\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"p\", null, \"No articles found.\", -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_17];\nconst _hoisted_19 = {\n  key: 3,\n  class: \"mt-6 flex justify-end gap-x-5\"\n};\nconst _hoisted_20 = [\"disabled\"];\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"lucide lucide-chevron-left\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m15 18-6-6 6-6\"\n})], -1 /* HOISTED */);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"lucide lucide-chevron-right\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m9 18 6-6-6-6\"\n})], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_edit_article_modal = _resolveComponent(\"edit-article-modal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [..._hoisted_5])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.articles, article => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: article.id,\n      class: \"bg-white p-5 rounded-xl shadow-lg flex flex-col hover:scale-105 transition duration-200\"\n    }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n      src: article.image,\n      alt: \"Article Image\",\n      class: \"w-full h-48 object-cover mb-4 rounded-lg\"\n    }, null, 8 /* PROPS */, _hoisted_8), _createElementVNode(\"h2\", _hoisted_9, _toDisplayString(article.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"a\", {\n      class: \"flex justify-end items-center gap-x-2 py-1 px-3 bg-slate-200 font-semibold rounded-xl text-sm mt-auto hover:bg-slate-300\",\n      href: article.source_url,\n      target: \"_blank\"\n    }, [_createTextVNode(\"Read More \"), _hoisted_12], 8 /* PROPS */, _hoisted_11)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.openEditModal(article),\n      class: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n    }, \" Edit \", 8 /* PROPS */, _hoisted_14), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteArticle(article.id),\n      class: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700\"\n    }, \" Delete \", 8 /* PROPS */, _hoisted_15)])]);\n  }), 128 /* KEYED_FRAGMENT */))])), $setup.articles.length === 0 && !$setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [..._hoisted_18])) : _createCommentVNode(\"v-if\", true), $setup.articles.length > 0 && !$setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.prevPage && $setup.prevPage(...args)),\n    disabled: $setup.currentPage === 1,\n    class: \"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n  }, [_hoisted_21, _createTextVNode(\"Previous \")], 8 /* PROPS */, _hoisted_20), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.nextPage && $setup.nextPage(...args)),\n    class: \"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n  }, [_createTextVNode(\" Next\"), _hoisted_22])])) : _createCommentVNode(\"v-if\", true), $setup.showEditModal ? (_openBlock(), _createBlock(_component_edit_article_modal, {\n    key: 4,\n    article: $setup.selectedArticle,\n    onClose: _cache[2] || (_cache[2] = $event => $setup.showEditModal = false),\n    onSave: _ctx.updateArticle\n  }, null, 8 /* PROPS */, [\"article\", \"onSave\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_4","xmlns","width","height","viewBox","fill","stroke","d","_hoisted_17","_createElementBlock","_hoisted_1","_hoisted_2","$setup","isLoading","_hoisted_3","_hoisted_5","_hoisted_6","_Fragment","_renderList","articles","article","id","_hoisted_7","src","image","alt","_hoisted_8","_hoisted_9","_toDisplayString","title","_hoisted_10","href","source_url","target","_createTextVNode","_hoisted_12","_hoisted_11","_hoisted_13","onClick","$event","openEditModal","_hoisted_14","deleteArticle","_hoisted_15","length","_hoisted_16","_hoisted_18","_createCommentVNode","_hoisted_19","_cache","args","prevPage","disabled","currentPage","_hoisted_21","_hoisted_20","nextPage","_hoisted_22","showEditModal","_createBlock","_component_edit_article_modal","selectedArticle","onClose","onSave","_ctx","updateArticle"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div v-if=\"isLoading\" class=\"text-center my-8\">\n      <p>Loading...</p>\n    </div>\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-5 rounded-xl shadow-lg flex flex-col hover:scale-105 transition duration-200\"\n      >\n        <div class=\"flex-grow\">\n          <img\n            :src=\"article.image\"\n            alt=\"Article Image\"\n            class=\"w-full h-48 object-cover mb-4 rounded-lg\"\n          />\n          <h2 class=\"text-sm font-semibold mb-4\">\n            {{ article.title }}\n          </h2>\n        </div>\n        <div class=\"mt-auto\">\n          <a\n            class=\"flex justify-end items-center gap-x-2 py-1 px-3 bg-slate-200 font-semibold rounded-xl text-sm mt-auto hover:bg-slate-300\"\n            :href=\"article.source_url\"\n            target=\"_blank\"\n            >Read More\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              class=\"lucide lucide-arrow-right\"\n            >\n              <path d=\"M5 12h14\" />\n              <path d=\"m12 5 7 7-7 7\" />\n            </svg>\n          </a>\n        </div>\n        <div class=\"flex justify-between mt-2\">\n          <button\n            @click=\"openEditModal(article)\"\n            class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n          >\n            Edit\n          </button>\n          <button\n            @click=\"deleteArticle(article.id)\"\n            class=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"articles.length === 0 && !isLoading\" class=\"text-center my-8\">\n      <p>No articles found.</p>\n    </div>\n    <div\n      v-if=\"articles.length > 0 && !isLoading\"\n      class=\"mt-6 flex justify-end gap-x-5\"\n    >\n      <button\n        @click=\"prevPage\"\n        :disabled=\"currentPage === 1\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-left\"\n        >\n          <path d=\"m15 18-6-6 6-6\" /></svg\n        >Previous\n      </button>\n      <button\n        @click=\"nextPage\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        Next<svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-right\"\n        >\n          <path d=\"m9 18 6-6-6-6\" />\n        </svg>\n      </button>\n    </div>\n    <edit-article-modal\n      v-if=\"showEditModal\"\n      :article=\"selectedArticle\"\n      @close=\"showEditModal = false\"\n      @save=\"updateArticle\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nimport EditArticleModal from \"./EditArticleModal.vue\";\n\nexport default {\n  components: {\n    EditArticleModal,\n  },\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(10);\n    const showEditModal = ref(false);\n    const selectedArticle = ref(null);\n\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\n          `http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n        fetchArticles();\n      }\n    };\n\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n        fetchArticles();\n      }\n    };\n\n    const deleteArticle = async (id) => {\n      try {\n        await axios.delete(`http://103.164.54.252:8000/api/articles/${id}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`,\n          },\n        });\n        fetchArticles();\n      } catch (error) {\n        console.error(\"Failed to delete article:\", error);\n      }\n    };\n\n    const openEditModal = (article) => {\n      selectedArticle.value = { ...article };\n      showEditModal.value = true;\n    };\n\n    const updateArticle = async (updatedArticle) => {\n      try {\n        await axios.put(\n          `http://103.164.54.252:8000/api/articles/${updatedArticle.id}`,\n          updatedArticle,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        fetchArticles();\n        showEditModal.value = false;\n      } catch (error) {\n        console.error(\"Failed to update article:\", error);\n      }\n    };\n\n    onMounted(fetchArticles);\n\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      deleteArticle,\n      openEditModal,\n      showEditModal,\n      selectedArticle,\n    };\n  },\n};\n</script>\n\n<style>\n/* CSS styling can be added here for additional customization */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}