{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-764e8ce2\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"container mx-auto p-6\"\n};\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h1\", {\n    \"class\": \"text-2xl font-bold mb-4\"\n  }, \"Admin Articles\", -1 /* HOISTED */);\n});\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"text-center my-8\"\n};\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading...\", -1 /* HOISTED */);\n});\nvar _hoisted_5 = [_hoisted_4];\nvar _hoisted_6 = {\n  key: 0\n};\nvar _hoisted_7 = [\"src\"];\nvar _hoisted_8 = {\n  key: 1\n};\nvar _hoisted_9 = [\"href\"];\nvar _hoisted_10 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_vue_good_table = _resolveComponent(\"vue-good-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Search Input \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.searchTerm = $event;\n    }),\n    \"class\": \"w-full px-3 py-2 rounded-md border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\n    placeholder: \"Search...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchTerm]]), _createCommentVNode(\" Loading Indicator \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [].concat(_hoisted_5))) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Vue Good Table \"), !$setup.isLoading ? (_openBlock(), _createBlock(_component_vue_good_table, {\n    key: 1,\n    columns: $setup.columns,\n    rows: $setup.filteredArticles,\n    \"pagination-options\": $setup.paginationOptions,\n    onOnPageChange: $setup.handlePageChange\n  }, {\n    \"table-row\": _withCtx(function (props) {\n      return [props.column.field === 'image' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, [_createElementVNode(\"img\", {\n        src: props.row.image,\n        alt: \"Article Image\",\n        \"class\": \"w-16 h-16 object-cover rounded\"\n      }, null, 8 /* PROPS */, _hoisted_7)])) : props.column.field === 'source_url' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, [_createElementVNode(\"a\", {\n        href: props.row.source_url,\n        target: \"_blank\",\n        \"class\": \"text-blue-500 underline\"\n      }, _toDisplayString(props.row.source_url), 9 /* TEXT, PROPS */, _hoisted_9)])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(props.formattedRow[props.column.field]), 1 /* TEXT */))];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"rows\", \"pagination-options\", \"onOnPageChange\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","key","_hoisted_4","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","type","_cache","$event","$setup","searchTerm","placeholder","isLoading","_hoisted_3","concat","_hoisted_5","_createBlock","_component_vue_good_table","columns","rows","filteredArticles","paginationOptions","onOnPageChange","handlePageChange","_withCtx","props","column","field","_hoisted_6","src","row","image","alt","_hoisted_7","_hoisted_8","href","source_url","target","_hoisted_9","_hoisted_10","_toDisplayString","formattedRow","_"],"sources":["/Users/deolorensa/vue/gamatecha/src/views/AdminArticles.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Admin Articles</h1>\n\n    <!-- Search Input -->\n    <input\n      type=\"text\"\n      v-model=\"searchTerm\"\n      class=\"w-full px-3 py-2 rounded-md border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n      placeholder=\"Search...\"\n    />\n\n    <!-- Loading Indicator -->\n    <div v-if=\"isLoading\" class=\"text-center my-8\">\n      <p>Loading...</p>\n    </div>\n\n    <!-- Vue Good Table -->\n    <vue-good-table\n      v-if=\"!isLoading\"\n      :columns=\"columns\"\n      :rows=\"filteredArticles\"\n      :pagination-options=\"paginationOptions\"\n      @on-page-change=\"handlePageChange\"\n    >\n      <template v-slot:table-row=\"props\">\n        <span v-if=\"props.column.field === 'image'\">\n          <img\n            :src=\"props.row.image\"\n            alt=\"Article Image\"\n            class=\"w-16 h-16 object-cover rounded\"\n          />\n        </span>\n        <span v-else-if=\"props.column.field === 'source_url'\">\n          <a\n            :href=\"props.row.source_url\"\n            target=\"_blank\"\n            class=\"text-blue-500 underline\"\n          >\n            {{ props.row.source_url }}\n          </a>\n        </span>\n        <span v-else>\n          {{ props.formattedRow[props.column.field] }}\n        </span>\n      </template>\n    </vue-good-table>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { VueGoodTable } from \"vue-good-table-next\";\nimport \"vue-good-table-next/dist/vue-good-table-next.css\";\n\nexport default {\n  components: {\n    VueGoodTable,\n  },\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const searchTerm = ref(\"\");\n    const currentPage = ref(1);\n    const totalPages = ref(1);\n    const isLoading = ref(false); // Variable untuk menampilkan loading\n\n    const columns = [\n      { label: \"Image\", field: \"image\", type: \"image\" },\n      { label: \"Title\", field: \"title\" },\n      { label: \"Source URL\", field: \"source_url\" },\n    ];\n\n    const paginationOptions = {\n      enabled: true,\n      perPage: 10,\n    };\n\n    const fetchArticles = async () => {\n      isLoading.value = true; // Set isLoading true saat fetch dimulai\n      try {\n        const response = await axios.get(\n          \"http://103.164.54.252:8000/api/articles\",\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(\n          response.data.total / paginationOptions.perPage\n        );\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false; // Set isLoading false saat fetch selesai atau error\n      }\n    };\n\n    const filteredArticles = computed(() => {\n      if (!searchTerm.value) {\n        return articles.value;\n      }\n      return articles.value.filter((article) =>\n        article.title.toLowerCase().includes(searchTerm.value.toLowerCase())\n      );\n    });\n\n    const handlePageChange = (page) => {\n      currentPage.value = page;\n      fetchArticles();\n    };\n\n    onMounted(() => {\n      fetchArticles();\n    });\n\n    return {\n      columns,\n      articles,\n      filteredArticles,\n      paginationOptions,\n      searchTerm,\n      handlePageChange,\n      isLoading, // Mengembalikan isLoading agar bisa digunakan di template\n    };\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n</style>\n"],"mappings":";;;;;;EACO,SAAM;AAAuB;;sBAChCA,mBAAA,CAAuD;IAAnD,SAAM;EAAyB,GAAC,gBAAc;AAAA;;EAFtDC,GAAA;EAa0B,SAAM;;;sBAC1BD,mBAAA,CAAiB,WAAd,YAAU;AAAA;kBAAbE,UAAiB,C;;EAdvBD,GAAA;AAAA;iBAAA;;EAAAA,GAAA;AAAA;iBAAA;;EAAAA,GAAA;AAAA;;;uBACEE,mBAAA,CA8CM,OA9CNC,UA8CM,GA7CJC,UAAuD,EAEvDC,mBAAA,kBAAqB,E,gBACrBN,mBAAA,CAKE;IAJAO,IAAI,EAAC,MAAM;IANjB,uBAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAOeC,MAAA,CAAAC,UAAU,GAAAF,MAAA;IAAA;IACnB,SAAM,4HAA4H;IAClIG,WAAW,EAAC;iDAFHF,MAAA,CAAAC,UAAU,E,GAKrBL,mBAAA,uBAA0B,EACfI,MAAA,CAAAG,SAAS,I,cAApBV,mBAAA,CAEM,OAFNW,UAEM,KAAAC,MAAA,CAfVC,UAAA,MAAAV,mBAAA,gBAiBIA,mBAAA,oBAAuB,E,CAEdI,MAAA,CAAAG,SAAS,I,cADlBI,YAAA,CA4BiBC,yBAAA;IA9CrBjB,GAAA;IAoBOkB,OAAO,EAAET,MAAA,CAAAS,OAAO;IAChBC,IAAI,EAAEV,MAAA,CAAAW,gBAAgB;IACtB,oBAAkB,EAAEX,MAAA,CAAAY,iBAAiB;IACrCC,cAAc,EAAEb,MAAA,CAAAc;;IAEA,WAAS,EAAAC,QAAA,CACxB,UAMOC,KAPwB;MAAA,QACnBA,KAAK,CAACC,MAAM,CAACC,KAAK,gB,cAA9BzB,mBAAA,CAMO,QAhCf0B,UAAA,GA2BU7B,mBAAA,CAIE;QAHC8B,GAAG,EAAEJ,KAAK,CAACK,GAAG,CAACC,KAAK;QACrBC,GAAG,EAAC,eAAe;QACnB,SAAM;8BA9BlBC,UAAA,E,KAiCyBR,KAAK,CAACC,MAAM,CAACC,KAAK,qB,cAAnCzB,mBAAA,CAQO,QAzCfgC,UAAA,GAkCUnC,mBAAA,CAMI;QALDoC,IAAI,EAAEV,KAAK,CAACK,GAAG,CAACM,UAAU;QAC3BC,MAAM,EAAC,QAAQ;QACf,SAAM;0BAEHZ,KAAK,CAACK,GAAG,CAACM,UAAU,wBAvCnCE,UAAA,E,oBA0CQpC,mBAAA,CAEO,QA5CfqC,WAAA,EAAAC,gBAAA,CA2Caf,KAAK,CAACgB,YAAY,CAAChB,KAAK,CAACC,MAAM,CAACC,KAAK,mB;;IA3ClDe,CAAA;oFAAArC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}