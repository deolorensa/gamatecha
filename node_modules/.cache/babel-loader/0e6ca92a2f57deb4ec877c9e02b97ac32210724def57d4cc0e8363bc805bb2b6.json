{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport { useAuthStore } from \"../stores/auth\";\nimport Login from \"../views/LoginView.vue\";\nimport Home from \"../views/HomeView.vue\";\nimport About from \"../views/AboutView.vue\";\nimport Profile from \"../views/ProfileView.vue\";\nimport AdminArticles from \"../views/AdminArticles.vue\";\nconst routes = [{\n  path: \"/\",\n  name: \"Login\",\n  component: Login\n}, {\n  path: \"/home\",\n  name: \"Home\",\n  component: Home,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/articles\",\n  name: \"About\",\n  component: About,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/admin-articles\",\n  name: \"AdminArticles\",\n  component: AdminArticles,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/profile\",\n  name: \"Profile\",\n  component: Profile,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  const isAuthenticated = authStore.isAuthenticated;\n  const isAdmin = authStore.username === \"admin\";\n  const isDemo1 = authStore.username === \"demo1\";\n  if (to.meta.requiresAdmin && (!isAuthenticated || !isAdmin)) {\n    next(\"/home\"); // Redirect jika tidak memenuhi syarat admin\n  } else if (to.meta.requiresDemo1 && (!isAuthenticated || !isDemo1)) {\n    next(\"/articles\"); // Redirect jika tidak memenuhi syarat demo1\n  } else {\n    next(); // Lanjutkan navigasi\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  if (to.meta.requiresAuth && !authStore.token) {\n    next(\"/\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","useAuthStore","Login","Home","About","Profile","AdminArticles","routes","path","name","component","meta","requiresAuth","router","history","process","env","BASE_URL","beforeEach","to","from","next","authStore","isAuthenticated","isAdmin","username","isDemo1","requiresAdmin","requiresDemo1","token"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport { useAuthStore } from \"../stores/auth\";\nimport Login from \"../views/LoginView.vue\";\nimport Home from \"../views/HomeView.vue\";\nimport About from \"../views/AboutView.vue\";\nimport Profile from \"../views/ProfileView.vue\";\nimport AdminArticles from \"../views/AdminArticles.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Login\",\n    component: Login,\n  },\n  {\n    path: \"/home\",\n    name: \"Home\",\n    component: Home,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/articles\",\n    name: \"About\",\n    component: About,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/admin-articles\",\n    name: \"AdminArticles\",\n    component: AdminArticles,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/profile\",\n    name: \"Profile\",\n    component: Profile,\n    meta: { requiresAuth: true },\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  const isAuthenticated = authStore.isAuthenticated;\n  const isAdmin = authStore.username === \"admin\";\n  const isDemo1 = authStore.username === \"demo1\";\n\n  if (to.meta.requiresAdmin && (!isAuthenticated || !isAdmin)) {\n    next(\"/home\"); // Redirect jika tidak memenuhi syarat admin\n  } else if (to.meta.requiresDemo1 && (!isAuthenticated || !isDemo1)) {\n    next(\"/articles\"); // Redirect jika tidak memenuhi syarat demo1\n  } else {\n    next(); // Lanjutkan navigasi\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  if (to.meta.requiresAuth && !authStore.token) {\n    next(\"/\");\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,aAAa,MAAM,4BAA4B;AAEtD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAER;AACb,CAAC,EACD;EACEM,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEP,IAAI;EACfQ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN,KAAK;EAChBO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEJ,aAAa;EACxBK,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEL,OAAO;EAClBM,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,CACF;AAED,MAAMC,MAAM,GAAGd,YAAY,CAAC;EAC1Be,OAAO,EAAEd,gBAAgB,CAACe,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CV;AACF,CAAC,CAAC;AAEFM,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,SAAS,GAAGrB,YAAY,CAAC,CAAC;EAChC,MAAMsB,eAAe,GAAGD,SAAS,CAACC,eAAe;EACjD,MAAMC,OAAO,GAAGF,SAAS,CAACG,QAAQ,KAAK,OAAO;EAC9C,MAAMC,OAAO,GAAGJ,SAAS,CAACG,QAAQ,KAAK,OAAO;EAE9C,IAAIN,EAAE,CAACR,IAAI,CAACgB,aAAa,KAAK,CAACJ,eAAe,IAAI,CAACC,OAAO,CAAC,EAAE;IAC3DH,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;EACjB,CAAC,MAAM,IAAIF,EAAE,CAACR,IAAI,CAACiB,aAAa,KAAK,CAACL,eAAe,IAAI,CAACG,OAAO,CAAC,EAAE;IAClEL,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;EACrB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC,CAAC,CAAC;EACV;AACF,CAAC,CAAC;AACFR,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,SAAS,GAAGrB,YAAY,CAAC,CAAC;EAChC,IAAIkB,EAAE,CAACR,IAAI,CAACC,YAAY,IAAI,CAACU,SAAS,CAACO,KAAK,EAAE;IAC5CR,IAAI,CAAC,GAAG,CAAC;EACX,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}