{"ast":null,"code":"import axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(10);\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(`http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          }\n        });\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    const prevPage = () => {\n      currentPage.value--;\n      fetchArticles();\n    };\n    const nextPage = () => {\n      currentPage.value++;\n      fetchArticles();\n    };\n    const hasMorePages = computed(() => currentPage.value < totalPages.value);\n    onMounted(fetchArticles);\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      hasMorePages\n    };\n  }\n};","map":{"version":3,"names":["axios","useAuthStore","ref","computed","onMounted","setup","authStore","articles","isLoading","currentPage","perPage","totalPages","fetchArticles","value","response","get","headers","Authorization","token","data","Math","ceil","total","error","console","prevPage","nextPage","hasMorePages"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div v-if=\"isLoading\" class=\"text-center my-8\">\n      <p>Loading...</p>\n    </div>\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-4 rounded-xl shadow\"\n      >\n        <img\n          :src=\"article.image\"\n          alt=\"Article Image\"\n          class=\"w-full h-48 object-cover mb-4 rounded-lg\"\n        />\n        <h2 class=\"text-sm font-semibold mb-2\">\n          {{ article.title }}\n        </h2>\n        <a\n          class=\"py-1 px-3 bg-slate-200 font-semibold rounded-xl text-sm\"\n          :href=\"article.source_url\"\n          >Read More\n        </a>\n        <p class=\"text-gray-600\">{{ article.body }}</p>\n      </div>\n    </div>\n    <div v-if=\"articles.length === 0 && !isLoading\" class=\"text-center my-8\">\n      <p>No articles found.</p>\n    </div>\n    <div v-if=\"articles.length > 0 && !isLoading\" class=\"mt-6 flex justify-end\">\n      <button\n        @click=\"prevPage\"\n        :disabled=\"currentPage === 1\"\n        class=\"mr-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        Previous\n      </button>\n      <button\n        @click=\"nextPage\"\n        class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        Next\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(10);\n\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\n          `http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    const prevPage = () => {\n      currentPage.value--;\n      fetchArticles();\n    };\n\n    const nextPage = () => {\n      currentPage.value++;\n      fetchArticles();\n    };\n\n    const hasMorePages = computed(() => currentPage.value < totalPages.value);\n\n    onMounted(fetchArticles);\n\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      hasMorePages,\n    };\n  },\n};\n</script>\n\n<style>\n/* CSS styling can be added here for additional customization */\n</style>\n"],"mappings":"AAkDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,YAAW,QAAS,gBAAgB;AAC7C,SAASC,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AAE9C,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIL,YAAY,CAAC,CAAC;IAChC,MAAMM,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,SAAQ,GAAIN,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMO,WAAU,GAAIP,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMQ,OAAM,GAAI,EAAE;IAClB,MAAMC,UAAS,GAAIT,GAAG,CAAC,EAAE,CAAC;IAE1B,MAAMU,aAAY,GAAI,MAAAA,CAAA,KAAY;MAChCJ,SAAS,CAACK,KAAI,GAAI,IAAI;MACtB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMd,KAAK,CAACe,GAAG,CAC9B,gDAAgDN,WAAW,CAACI,KAAK,UAAUH,OAAO,EAAE,EACpF;UACEM,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUX,SAAS,CAACY,KAAK;UAC1C;QACF,CACF,CAAC;QACDX,QAAQ,CAACM,KAAI,GAAIC,QAAQ,CAACK,IAAI,CAACA,IAAI;QACnCR,UAAU,CAACE,KAAI,GAAIO,IAAI,CAACC,IAAI,CAACP,QAAQ,CAACK,IAAI,CAACG,KAAI,GAAIZ,OAAO,CAAC;MAC7D,EAAE,OAAOa,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,UAAU;QACRf,SAAS,CAACK,KAAI,GAAI,KAAK;MACzB;IACF,CAAC;IAED,MAAMY,QAAO,GAAIA,CAAA,KAAM;MACrBhB,WAAW,CAACI,KAAK,EAAE;MACnBD,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,MAAMc,QAAO,GAAIA,CAAA,KAAM;MACrBjB,WAAW,CAACI,KAAK,EAAE;MACnBD,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,MAAMe,YAAW,GAAIxB,QAAQ,CAAC,MAAMM,WAAW,CAACI,KAAI,GAAIF,UAAU,CAACE,KAAK,CAAC;IAEzET,SAAS,CAACQ,aAAa,CAAC;IAExB,OAAO;MACLL,QAAQ;MACRC,SAAS;MACTC,WAAW;MACXE,UAAU;MACVc,QAAQ;MACRC,QAAQ;MACRC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}