{"ast":null,"code":"import _regeneratorRuntime from \"/Users/deolorensa/vue/gamatecha/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/deolorensa/vue/gamatecha/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup: function setup() {\n    var username = ref(\"\");\n    var password = ref(\"\");\n    var authStore = useAuthStore();\n    var router = useRouter();\n    var login = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return authStore.login(username.value, password.value);\n            case 3:\n              alert(\"Login successful!\");\n\n              // Check if the logged-in user is admin\n              if (authStore.username === \"admin\") {\n                router.push(\"/home\"); // Redirect to Home page for admin\n              } else {\n                router.push(\"/articles\"); // Redirect to Articles page for other users\n              }\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              alert(\"Login failed. Please check your credentials and try again.\");\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n      return function login() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return {\n      username: username,\n      password: password,\n      login: login\n    };\n  }\n};","map":{"version":3,"names":["ref","useAuthStore","useRouter","setup","username","password","authStore","router","login","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","value","alert","push","t0","stop","apply","arguments"],"sources":["/Users/deolorensa/vue/gamatecha/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center justify-center min-h-screen bg-gray-100\">\n    <div class=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\n      <h2 class=\"text-3xl font-bold text-slate-950 mb-1 text-center\">\n        Login an account\n      </h2>\n      <h4 class=\"font-thin mb-6 text-sm text-slate-600 text-center\">\n        Enter your Username and Password below to login\n      </h4>\n      <form @submit.prevent=\"login\">\n        <div class=\"mb-4\">\n          <label class=\"block text-slate-900 font-medium\">Username</label>\n          <input\n            v-model=\"username\"\n            type=\"username\"\n            class=\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-slate-600\"\n          />\n        </div>\n        <div class=\"mb-4\">\n          <label class=\"block text-slate-900 font-medium\">Password</label>\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            class=\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-slate-600\"\n          />\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <button\n            type=\"submit\"\n            class=\"w-full bg-slate-900 text-white py-2 px-4 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200\"\n          >\n            Login\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  setup() {\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const authStore = useAuthStore();\n    const router = useRouter();\n\n    const login = async () => {\n      try {\n        await authStore.login(username.value, password.value);\n        alert(\"Login successful!\");\n\n        // Check if the logged-in user is admin\n        if (authStore.username === \"admin\") {\n          router.push(\"/home\"); // Redirect to Home page for admin\n        } else {\n          router.push(\"/articles\"); // Redirect to Articles page for other users\n        }\n      } catch (error) {\n        alert(\"Login failed. Please check your credentials and try again.\");\n      }\n    };\n\n    return {\n      username,\n      password,\n      login,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* Tambahkan style tambahan jika diperlukan */\n</style>\n"],"mappings":";;;AAwCA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,YAAW,QAAS,gBAAgB;AAC7C,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,KAAK,WAAAA,MAAA,EAAG;IACN,IAAMC,QAAO,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACxB,IAAMK,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,IAAMM,SAAQ,GAAIL,YAAY,CAAC,CAAC;IAChC,IAAMM,MAAK,GAAIL,SAAS,CAAC,CAAC;IAE1B,IAAMM,KAAI;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEJZ,SAAS,CAACE,KAAK,CAACJ,QAAQ,CAACe,KAAK,EAAEd,QAAQ,CAACc,KAAK,CAAC;YAAA;cACrDC,KAAK,CAAC,mBAAmB,CAAC;;cAE1B;cACA,IAAId,SAAS,CAACF,QAAO,KAAM,OAAO,EAAE;gBAClCG,MAAM,CAACc,IAAI,CAAC,OAAO,CAAC,EAAE;cACxB,OAAO;gBACLd,MAAM,CAACc,IAAI,CAAC,WAAW,CAAC,EAAE;cAC5B;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAEAI,KAAK,CAAC,4DAA4D,CAAC;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA,CAEtE;MAAA,gBAdKL,KAAIA,CAAA;QAAA,OAAAC,IAAA,CAAAe,KAAA,OAAAC,SAAA;MAAA;IAAA,GAcT;IAED,OAAO;MACLrB,QAAQ,EAARA,QAAQ;MACRC,QAAQ,EAARA,QAAQ;MACRG,KAAK,EAALA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}