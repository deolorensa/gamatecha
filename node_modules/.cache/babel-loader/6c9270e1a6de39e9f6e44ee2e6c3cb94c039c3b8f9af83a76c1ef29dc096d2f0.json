{"ast":null,"code":"import axios from \"axios\";\nimport { ref } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const hasMorePages = ref(true);\n    const fetchArticles = async (page = 1) => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\"http://103.164.54.252:8000/api/articles\", {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          },\n          params: {\n            page\n          }\n        });\n        articles.value = response.data.results;\n        currentPage.value = page;\n        hasMorePages.value = response.data.next !== null;\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    fetchArticles();\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      hasMorePages,\n      fetchArticles\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","useAuthStore","setup","authStore","articles","isLoading","currentPage","hasMorePages","fetchArticles","page","value","response","get","headers","Authorization","token","params","data","results","next","error","console"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div v-if=\"isLoading\" class=\"text-center\">Loading...</div>\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-4 rounded-lg shadow-lg flex flex-col\"\n      >\n        <img\n          :src=\"article.image_url\"\n          alt=\"Article Image\"\n          class=\"w-full h-48 object-cover mb-4 rounded-lg\"\n        />\n        <h2 class=\"text-lg font-bold mb-2\">{{ article.title }}</h2>\n        <p class=\"flex-grow\">{{ article.summary }}</p>\n        <router-link\n          :to=\"article.source_url\"\n          class=\"mt-4 text-blue-500 hover:underline\"\n          >Read More</router-link\n        >\n      </div>\n    </div>\n    <div class=\"flex justify-between mt-6\">\n      <button\n        @click=\"fetchArticles(currentPage - 1)\"\n        :disabled=\"currentPage === 1\"\n        class=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\n      >\n        Previous\n      </button>\n      <button\n        @click=\"fetchArticles(currentPage + 1)\"\n        :disabled=\"!hasMorePages\"\n        class=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\n      >\n        Next\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const hasMorePages = ref(true);\n\n    const fetchArticles = async (page = 1) => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\n          \"http://103.164.54.252:8000/api/articles\",\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n            params: {\n              page,\n            },\n          }\n        );\n        articles.value = response.data.results;\n        currentPage.value = page;\n        hasMorePages.value = response.data.next !== null;\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    fetchArticles();\n\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      hasMorePages,\n      fetchArticles,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n</style>\n"],"mappings":"AA4CA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,GAAE,QAAS,KAAK;AACzB,SAASC,YAAW,QAAS,eAAe;AAE5C,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIF,YAAY,CAAC,CAAC;IAChC,MAAMG,QAAO,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,SAAQ,GAAIL,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMM,WAAU,GAAIN,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMO,YAAW,GAAIP,GAAG,CAAC,IAAI,CAAC;IAE9B,MAAMQ,aAAY,GAAI,MAAAA,CAAOC,IAAG,GAAI,CAAC,KAAK;MACxCJ,SAAS,CAACK,KAAI,GAAI,IAAI;MACtB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAC9B,yCAAyC,EACzC;UACEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUX,SAAS,CAACY,KAAK;UAC1C,CAAC;UACDC,MAAM,EAAE;YACNP;UACF;QACF,CACF,CAAC;QACDL,QAAQ,CAACM,KAAI,GAAIC,QAAQ,CAACM,IAAI,CAACC,OAAO;QACtCZ,WAAW,CAACI,KAAI,GAAID,IAAI;QACxBF,YAAY,CAACG,KAAI,GAAIC,QAAQ,CAACM,IAAI,CAACE,IAAG,KAAM,IAAI;MAClD,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,UAAU;QACRf,SAAS,CAACK,KAAI,GAAI,KAAK;MACzB;IACF,CAAC;IAEDF,aAAa,CAAC,CAAC;IAEf,OAAO;MACLJ,QAAQ;MACRC,SAAS;MACTC,WAAW;MACXC,YAAY;MACZC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}