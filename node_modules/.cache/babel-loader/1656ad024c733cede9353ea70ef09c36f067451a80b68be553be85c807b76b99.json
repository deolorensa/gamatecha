{"ast":null,"code":"import { defineStore } from \"pinia\";\nimport axios from \"axios\";\nexport const useAuthStore = defineStore(\"auth\", {\n  state: () => ({\n    token: localStorage.getItem(\"token\") || null,\n    username: localStorage.getItem(\"username\") || null\n  }),\n  getters: {\n    isAuthenticated: state => state.token !== null\n  },\n  actions: {\n    async login(username, password) {\n      try {\n        const response = await axios.post(\"http://103.164.54.252:8000/api/auth/login\", {\n          username,\n          password\n        });\n        this.token = response.data.access;\n        this.username = username;\n        localStorage.setItem(\"token\", response.data.access);\n        localStorage.setItem(\"username\", username);\n      } catch (error) {\n        console.error(\"Login failed:\", error);\n        throw error;\n      }\n    },\n    logout() {\n      this.token = null;\n      this.username = null;\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n    }\n  }\n});","map":{"version":3,"names":["defineStore","axios","useAuthStore","state","token","localStorage","getItem","username","getters","isAuthenticated","actions","login","password","response","post","data","access","setItem","error","console","logout","removeItem"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/stores/auth.js"],"sourcesContent":["import { defineStore } from \"pinia\";\nimport axios from \"axios\";\n\nexport const useAuthStore = defineStore(\"auth\", {\n  state: () => ({\n    token: localStorage.getItem(\"token\") || null,\n    username: localStorage.getItem(\"username\") || null,\n  }),\n  getters: {\n    isAuthenticated: (state) => state.token !== null,\n  },\n  actions: {\n    async login(username, password) {\n      try {\n        const response = await axios.post(\n          \"http://103.164.54.252:8000/api/auth/login\",\n          {\n            username,\n            password,\n          }\n        );\n        this.token = response.data.access;\n        this.username = username;\n        localStorage.setItem(\"token\", response.data.access);\n        localStorage.setItem(\"username\", username);\n      } catch (error) {\n        console.error(\"Login failed:\", error);\n        throw error;\n      }\n    },\n    logout() {\n      this.token = null;\n      this.username = null;\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n    },\n  },\n});\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,YAAY,GAAGF,WAAW,CAAC,MAAM,EAAE;EAC9CG,KAAK,EAAEA,CAAA,MAAO;IACZC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;IAC5CC,QAAQ,EAAEF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI;EAChD,CAAC,CAAC;EACFE,OAAO,EAAE;IACPC,eAAe,EAAGN,KAAK,IAAKA,KAAK,CAACC,KAAK,KAAK;EAC9C,CAAC;EACDM,OAAO,EAAE;IACP,MAAMC,KAAKA,CAACJ,QAAQ,EAAEK,QAAQ,EAAE;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAC/B,2CAA2C,EAC3C;UACEP,QAAQ;UACRK;QACF,CACF,CAAC;QACD,IAAI,CAACR,KAAK,GAAGS,QAAQ,CAACE,IAAI,CAACC,MAAM;QACjC,IAAI,CAACT,QAAQ,GAAGA,QAAQ;QACxBF,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAC;QACnDX,YAAY,CAACY,OAAO,CAAC,UAAU,EAAEV,QAAQ,CAAC;MAC5C,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,MAAMA,KAAK;MACb;IACF,CAAC;IACDE,MAAMA,CAAA,EAAG;MACP,IAAI,CAAChB,KAAK,GAAG,IAAI;MACjB,IAAI,CAACG,QAAQ,GAAG,IAAI;MACpBF,YAAY,CAACgB,UAAU,CAAC,OAAO,CAAC;MAChChB,YAAY,CAACgB,UAAU,CAAC,UAAU,CAAC;IACrC;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}