{"ast":null,"code":"import _regeneratorRuntime from \"/Users/deolorensa/vue/gamatecha/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/deolorensa/vue/gamatecha/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nexport default {\n  setup: function setup() {\n    var authStore = useAuthStore();\n    var articles = ref([]);\n    var isLoading = ref(false);\n    var currentPage = ref(1);\n    var perPage = 10;\n    var totalPages = ref(2);\n    var fetchArticles = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              isLoading.value = true;\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"http://103.164.54.252:8000/api/articles?page=\".concat(currentPage.value, \"&limit=\").concat(perPage), {\n                headers: {\n                  Authorization: \"Bearer \".concat(authStore.token)\n                }\n              });\n            case 4:\n              response = _context.sent;\n              articles.value = response.data.data;\n              totalPages.value = Math.ceil(response.data.total / perPage);\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(\"Failed to fetch articles:\", _context.t0);\n            case 12:\n              _context.prev = 12;\n              isLoading.value = false;\n              return _context.finish(12);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 9, 12, 15]]);\n      }));\n      return function fetchArticles() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var prevPage = function prevPage() {\n      currentPage.value--;\n      fetchArticles();\n    };\n    var nextPage = function nextPage() {\n      currentPage.value++;\n      fetchArticles();\n    };\n    var hasMorePages = computed(function () {\n      return currentPage.value < totalPages.value;\n    });\n    onMounted(fetchArticles);\n    return {\n      articles: articles,\n      isLoading: isLoading,\n      currentPage: currentPage,\n      totalPages: totalPages,\n      prevPage: prevPage,\n      nextPage: nextPage,\n      hasMorePages: hasMorePages\n    };\n  }\n};","map":{"version":3,"names":["axios","useAuthStore","ref","computed","onMounted","setup","authStore","articles","isLoading","currentPage","perPage","totalPages","fetchArticles","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","value","get","concat","headers","Authorization","token","sent","data","Math","ceil","total","t0","console","error","finish","stop","apply","arguments","prevPage","nextPage","hasMorePages"],"sources":["/Users/deolorensa/vue/gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div v-if=\"isLoading\" class=\"text-center my-8\">\n      <p>Loading...</p>\n    </div>\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-5 rounded-xl shadow-lg flex flex-col hover:scale-105 transition duration-200\"\n      >\n        <div class=\"flex-grow\">\n          <img\n            :src=\"article.image\"\n            alt=\"Article Image\"\n            class=\"w-full h-48 object-cover mb-4 rounded-lg\"\n          />\n          <h2 class=\"text-sm font-semibold mb-4\">\n            {{ article.title }}\n          </h2>\n        </div>\n        <div class=\"mt-auto\">\n          <a\n            class=\"flex justify-end items-center gap-x-2 py-1 px-3 bg-slate-200 font-semibold rounded-xl text-sm mt-auto hover:bg-slate-300\"\n            :href=\"article.source_url\"\n            target=\"_blank\"\n            >Read More<svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              class=\"lucide lucide-arrow-right\"\n            >\n              <path d=\"M5 12h14\" />\n              <path d=\"m12 5 7 7-7 7\" />\n            </svg>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"articles.length === 0 && !isLoading\" class=\"text-center my-8\">\n      <p>No articles found.</p>\n    </div>\n    <div\n      v-if=\"articles.length > 0 && !isLoading\"\n      class=\"mt-6 flex justify-end gap-x-5\"\n    >\n      <button\n        @click=\"prevPage\"\n        :disabled=\"currentPage === 1\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-left\"\n        >\n          <path d=\"m15 18-6-6 6-6\" /></svg\n        >Previous\n      </button>\n      <button\n        @click=\"nextPage\"\n        class=\"flex items-center justify-center gap-x-2 bg-slate-600 font-semibold text-white px-4 py-2 rounded-xl hover:bg-slate-700\"\n      >\n        Next<svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          class=\"lucide lucide-chevron-right\"\n        >\n          <path d=\"m9 18 6-6-6-6\" />\n        </svg>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const isLoading = ref(false);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(2);\n\n    const fetchArticles = async () => {\n      isLoading.value = true;\n      try {\n        const response = await axios.get(\n          `http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    const prevPage = () => {\n      currentPage.value--;\n      fetchArticles();\n    };\n\n    const nextPage = () => {\n      currentPage.value++;\n      fetchArticles();\n    };\n\n    const hasMorePages = computed(() => currentPage.value < totalPages.value);\n\n    onMounted(fetchArticles);\n\n    return {\n      articles,\n      isLoading,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      hasMorePages,\n    };\n  },\n};\n</script>\n\n<style>\n/* CSS styling can be added here for additional customization */\n</style>\n"],"mappings":";;;AAiGA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,YAAW,QAAS,gBAAgB;AAC7C,SAASC,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AAE9C,eAAe;EACbC,KAAK,WAAAA,MAAA,EAAG;IACN,IAAMC,SAAQ,GAAIL,YAAY,CAAC,CAAC;IAChC,IAAMM,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,IAAMM,SAAQ,GAAIN,GAAG,CAAC,KAAK,CAAC;IAC5B,IAAMO,WAAU,GAAIP,GAAG,CAAC,CAAC,CAAC;IAC1B,IAAMQ,OAAM,GAAI,EAAE;IAClB,IAAMC,UAAS,GAAIT,GAAG,CAAC,CAAC,CAAC;IAEzB,IAAMU,aAAY;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACpBf,SAAS,CAACgB,KAAI,GAAI,IAAI;cAAAH,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEGvB,KAAK,CAACyB,GAAG,iDAAAC,MAAA,CACkBjB,WAAW,CAACe,KAAK,aAAAE,MAAA,CAAUhB,OAAO,GAClF;gBACEiB,OAAO,EAAE;kBACPC,aAAa,YAAAF,MAAA,CAAYpB,SAAS,CAACuB,KAAK;gBAC1C;cACF,CACF,CAAC;YAAA;cAPKX,QAAO,GAAAG,QAAA,CAAAS,IAAA;cAQbvB,QAAQ,CAACiB,KAAI,GAAIN,QAAQ,CAACa,IAAI,CAACA,IAAI;cACnCpB,UAAU,CAACa,KAAI,GAAIQ,IAAI,CAACC,IAAI,CAACf,QAAQ,CAACa,IAAI,CAACG,KAAI,GAAIxB,OAAO,CAAC;cAAAW,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAc,EAAA,GAAAd,QAAA;cAE3De,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAAhB,QAAA,CAAAc,EAAO,CAAC;YAAA;cAAAd,QAAA,CAAAC,IAAA;cAEjDd,SAAS,CAACgB,KAAI,GAAI,KAAK;cAAA,OAAAH,QAAA,CAAAiB,MAAA;YAAA;YAAA;cAAA,OAAAjB,QAAA,CAAAkB,IAAA;UAAA;QAAA,GAAAtB,OAAA;MAAA,CAE1B;MAAA,gBAlBKL,aAAYA,CAAA;QAAA,OAAAC,IAAA,CAAA2B,KAAA,OAAAC,SAAA;MAAA;IAAA,GAkBjB;IAED,IAAMC,QAAO,GAAI,SAAXA,QAAOA,CAAA,EAAU;MACrBjC,WAAW,CAACe,KAAK,EAAE;MACnBZ,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,IAAM+B,QAAO,GAAI,SAAXA,QAAOA,CAAA,EAAU;MACrBlC,WAAW,CAACe,KAAK,EAAE;MACnBZ,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,IAAMgC,YAAW,GAAIzC,QAAQ,CAAC;MAAA,OAAMM,WAAW,CAACe,KAAI,GAAIb,UAAU,CAACa,KAAK;IAAA,EAAC;IAEzEpB,SAAS,CAACQ,aAAa,CAAC;IAExB,OAAO;MACLL,QAAQ,EAARA,QAAQ;MACRC,SAAS,EAATA,SAAS;MACTC,WAAW,EAAXA,WAAW;MACXE,UAAU,EAAVA,UAAU;MACV+B,QAAQ,EAARA,QAAQ;MACRC,QAAQ,EAARA,QAAQ;MACRC,YAAY,EAAZA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}