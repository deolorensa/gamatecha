{"ast":null,"code":"import axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(1);\n    const fetchArticles = async () => {\n      try {\n        const response = await axios.get(`http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`, {\n          headers: {\n            Authorization: `Bearer ${authStore.token}`\n          }\n        });\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      }\n    };\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n        fetchArticles();\n      }\n    };\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n        fetchArticles();\n      }\n    };\n    const hasMorePages = computed(() => currentPage.value < totalPages.value);\n    onMounted(fetchArticles);\n    return {\n      articles,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      hasMorePages\n    };\n  }\n};","map":{"version":3,"names":["axios","useAuthStore","ref","computed","onMounted","setup","authStore","articles","currentPage","perPage","totalPages","fetchArticles","response","get","value","headers","Authorization","token","data","Math","ceil","total","error","console","prevPage","nextPage","hasMorePages"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/AboutView.vue"],"sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-2xl font-bold mb-4\">Articles</h1>\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      <div\n        v-for=\"article in articles\"\n        :key=\"article.id\"\n        class=\"bg-white p-4 rounded shadow\"\n      >\n        <img\n          :src=\"article.image_url\"\n          alt=\"Article Image\"\n          class=\"w-full h-48 object-cover mb-4 rounded\"\n        />\n        <h2 class=\"text-xl font-semibold mb-2\">{{ article.title }}</h2>\n        <p class=\"text-gray-600\">{{ article.body }}</p>\n      </div>\n    </div>\n    <div class=\"mt-6\">\n      <button\n        @click=\"prevPage\"\n        :disabled=\"currentPage === 1\"\n        class=\"mr-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        Previous\n      </button>\n      <button\n        @click=\"nextPage\"\n        :disabled=\"!hasMorePages\"\n        class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        Next\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { ref, computed, onMounted } from \"vue\";\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const articles = ref([]);\n    const currentPage = ref(1);\n    const perPage = 10;\n    const totalPages = ref(1);\n\n    const fetchArticles = async () => {\n      try {\n        const response = await axios.get(\n          `http://103.164.54.252:8000/api/articles?page=${currentPage.value}&limit=${perPage}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        articles.value = response.data.data;\n        totalPages.value = Math.ceil(response.data.total / perPage);\n      } catch (error) {\n        console.error(\"Failed to fetch articles:\", error);\n      }\n    };\n\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n        fetchArticles();\n      }\n    };\n\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n        fetchArticles();\n      }\n    };\n\n    const hasMorePages = computed(() => currentPage.value < totalPages.value);\n\n    onMounted(fetchArticles);\n\n    return {\n      articles,\n      currentPage,\n      totalPages,\n      prevPage,\n      nextPage,\n      hasMorePages,\n    };\n  },\n};\n</script>\n\n<style>\n/* CSS styling can be added here for additional customization */\n</style>\n"],"mappings":"AAsCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,YAAW,QAAS,gBAAgB;AAC7C,SAASC,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AAE9C,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIL,YAAY,CAAC,CAAC;IAChC,MAAMM,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,WAAU,GAAIN,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMO,OAAM,GAAI,EAAE;IAClB,MAAMC,UAAS,GAAIR,GAAG,CAAC,CAAC,CAAC;IAEzB,MAAMS,aAAY,GAAI,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAC9B,gDAAgDL,WAAW,CAACM,KAAK,UAAUL,OAAO,EAAE,EACpF;UACEM,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUV,SAAS,CAACW,KAAK;UAC1C;QACF,CACF,CAAC;QACDV,QAAQ,CAACO,KAAI,GAAIF,QAAQ,CAACM,IAAI,CAACA,IAAI;QACnCR,UAAU,CAACI,KAAI,GAAIK,IAAI,CAACC,IAAI,CAACR,QAAQ,CAACM,IAAI,CAACG,KAAI,GAAIZ,OAAO,CAAC;MAC7D,EAAE,OAAOa,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IAED,MAAME,QAAO,GAAIA,CAAA,KAAM;MACrB,IAAIhB,WAAW,CAACM,KAAI,GAAI,CAAC,EAAE;QACzBN,WAAW,CAACM,KAAK,EAAE;QACnBH,aAAa,CAAC,CAAC;MACjB;IACF,CAAC;IAED,MAAMc,QAAO,GAAIA,CAAA,KAAM;MACrB,IAAIjB,WAAW,CAACM,KAAI,GAAIJ,UAAU,CAACI,KAAK,EAAE;QACxCN,WAAW,CAACM,KAAK,EAAE;QACnBH,aAAa,CAAC,CAAC;MACjB;IACF,CAAC;IAED,MAAMe,YAAW,GAAIvB,QAAQ,CAAC,MAAMK,WAAW,CAACM,KAAI,GAAIJ,UAAU,CAACI,KAAK,CAAC;IAEzEV,SAAS,CAACO,aAAa,CAAC;IAExB,OAAO;MACLJ,QAAQ;MACRC,WAAW;MACXE,UAAU;MACVc,QAAQ;MACRC,QAAQ;MACRC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}