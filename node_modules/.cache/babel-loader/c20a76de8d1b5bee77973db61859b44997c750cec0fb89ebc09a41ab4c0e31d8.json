{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-9ea40744\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container mx-auto p-6\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"Home\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"bg-white p-6 rounded shadow-lg\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-xl font-semibold mb-4\"\n}, \"Edit User\", -1 /* HOISTED */));\nconst _hoisted_5 = [\"onSubmit\"];\nconst _hoisted_6 = {\n  class: \"mb-4\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"edit-username\",\n  class: \"block text-sm font-medium text-gray-700\"\n}, \"Username\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"mb-4\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"edit-email\",\n  class: \"block text-sm font-medium text-gray-700\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"flex justify-end\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"bg-blue-500 text-white px-4 py-2 rounded\"\n}, \" Update \", -1 /* HOISTED */));\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  class: \"bg-white p-6 rounded shadow-lg\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-xl font-semibold mb-4\"\n}, \"Delete User\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Are you sure you want to delete this user?\", -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"flex justify-end mt-4\"\n};\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Vue3Modal = _resolveComponent(\"Vue3Modal\");\n  const _component_vg_cell = _resolveComponent(\"vg-cell\");\n  const _component_vue_good_table = _resolveComponent(\"vue-good-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Modal untuk Edit \"), _createVNode(_component_Vue3Modal, {\n    modelValue: $setup.isEditModalOpen,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.isEditModalOpen = $event)\n  }, {\n    default: _withCtx(({\n      close\n    }) => [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n      onSubmit: _withModifiers($event => $setup.updateUser(close), [\"prevent\"])\n    }, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"edit-username\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.editedUser.username = $event),\n      class: \"mt-1 p-2 border rounded-md w-full\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.editedUser.username]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      id: \"edit-email\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.editedUser.email = $event),\n      class: \"mt-1 p-2 border rounded-md w-full\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.editedUser.email]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"button\", {\n      onClick: $event => $setup.closeEditModal(close),\n      class: \"bg-gray-300 text-gray-700 px-4 py-2 rounded ml-2\"\n    }, \" Cancel \", 8 /* PROPS */, _hoisted_12)])], 40 /* PROPS, NEED_HYDRATION */, _hoisted_5)])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" Modal untuk Delete \"), _createVNode(_component_Vue3Modal, {\n    modelValue: $setup.isDeleteModalOpen,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.isDeleteModalOpen = $event)\n  }, {\n    default: _withCtx(({\n      close\n    }) => [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteUser(close),\n      class: \"bg-red-500 text-white px-4 py-2 rounded\"\n    }, \" Delete \", 8 /* PROPS */, _hoisted_17), _createElementVNode(\"button\", {\n      onClick: $event => $setup.closeDeleteModal(close),\n      class: \"bg-gray-300 text-gray-700 px-4 py-2 rounded ml-2\"\n    }, \" Cancel \", 8 /* PROPS */, _hoisted_18)])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" Tabel menggunakan vue-good-table-next \"), _createVNode(_component_vue_good_table, {\n    columns: $setup.columns,\n    rows: $setup.apiData,\n    paginate: true,\n    lineNumbers: true,\n    search: true\n  }, {\n    \"table-row\": _withCtx(props => [_createVNode(_component_vg_cell, null, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(props.row.username), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_vg_cell, null, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(props.row.email), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_vg_cell, null, {\n      default: _withCtx(() => [_createElementVNode(\"button\", {\n        onClick: $event => $setup.openEditModal(props.row),\n        class: \"bg-blue-500 text-white px-2 py-1 rounded\"\n      }, \" Edit \", 8 /* PROPS */, _hoisted_19), _createElementVNode(\"button\", {\n        onClick: $event => $setup.openDeleteModal(props.row.id),\n        class: \"bg-red-500 text-white px-2 py-1 rounded ml-2\"\n      }, \" Delete \", 8 /* PROPS */, _hoisted_20)]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"rows\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","_createVNode","_component_Vue3Modal","modelValue","$setup","isEditModalOpen","_cache","$event","default","_withCtx","close","_hoisted_3","_hoisted_4","onSubmit","_withModifiers","updateUser","_hoisted_6","_hoisted_7","id","_ctx","editedUser","username","required","_hoisted_8","_hoisted_9","email","_hoisted_10","_hoisted_11","onClick","closeEditModal","_hoisted_12","_hoisted_5","_","isDeleteModalOpen","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","deleteUser","_hoisted_17","closeDeleteModal","_hoisted_18","_component_vue_good_table","columns","rows","apiData","paginate","lineNumbers","search","props","_component_vg_cell","_createTextVNode","_toDisplayString","row","openEditModal","_hoisted_19","openDeleteModal","_hoisted_20"],"sources":["/Users/deolorensa/vue/tech--gamatecha/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto p-6\">\n    <h1 class=\"text-2xl font-bold mb-4\">Home</h1>\n\n    <!-- Modal untuk Edit -->\n    <Vue3Modal v-model=\"isEditModalOpen\">\n      <template #default=\"{ close }\">\n        <div class=\"bg-white p-6 rounded shadow-lg\">\n          <h2 class=\"text-xl font-semibold mb-4\">Edit User</h2>\n          <form @submit.prevent=\"updateUser(close)\">\n            <div class=\"mb-4\">\n              <label\n                for=\"edit-username\"\n                class=\"block text-sm font-medium text-gray-700\"\n                >Username</label\n              >\n              <input\n                type=\"text\"\n                id=\"edit-username\"\n                v-model=\"editedUser.username\"\n                class=\"mt-1 p-2 border rounded-md w-full\"\n                required\n              />\n            </div>\n            <div class=\"mb-4\">\n              <label\n                for=\"edit-email\"\n                class=\"block text-sm font-medium text-gray-700\"\n                >Email</label\n              >\n              <input\n                type=\"email\"\n                id=\"edit-email\"\n                v-model=\"editedUser.email\"\n                class=\"mt-1 p-2 border rounded-md w-full\"\n                required\n              />\n            </div>\n            <div class=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                class=\"bg-blue-500 text-white px-4 py-2 rounded\"\n              >\n                Update\n              </button>\n              <button\n                @click=\"closeEditModal(close)\"\n                class=\"bg-gray-300 text-gray-700 px-4 py-2 rounded ml-2\"\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      </template>\n    </Vue3Modal>\n\n    <!-- Modal untuk Delete -->\n    <Vue3Modal v-model=\"isDeleteModalOpen\">\n      <template #default=\"{ close }\">\n        <div class=\"bg-white p-6 rounded shadow-lg\">\n          <h2 class=\"text-xl font-semibold mb-4\">Delete User</h2>\n          <p>Are you sure you want to delete this user?</p>\n          <div class=\"flex justify-end mt-4\">\n            <button\n              @click=\"deleteUser(close)\"\n              class=\"bg-red-500 text-white px-4 py-2 rounded\"\n            >\n              Delete\n            </button>\n            <button\n              @click=\"closeDeleteModal(close)\"\n              class=\"bg-gray-300 text-gray-700 px-4 py-2 rounded ml-2\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </template>\n    </Vue3Modal>\n\n    <!-- Tabel menggunakan vue-good-table-next -->\n    <vue-good-table\n      :columns=\"columns\"\n      :rows=\"apiData\"\n      :paginate=\"true\"\n      :lineNumbers=\"true\"\n      :search=\"true\"\n    >\n      <template v-slot:table-row=\"props\">\n        <vg-cell>{{ props.row.username }}</vg-cell>\n        <vg-cell>{{ props.row.email }}</vg-cell>\n        <vg-cell>\n          <button\n            @click=\"openEditModal(props.row)\"\n            class=\"bg-blue-500 text-white px-2 py-1 rounded\"\n          >\n            Edit\n          </button>\n          <button\n            @click=\"openDeleteModal(props.row.id)\"\n            class=\"bg-red-500 text-white px-2 py-1 rounded ml-2\"\n          >\n            Delete\n          </button>\n        </vg-cell>\n      </template>\n    </vue-good-table>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport { useAuthStore } from \"../stores/auth\";\nimport { VueGoodTable } from \"vue-good-table-next\";\nimport \"vue-good-table-next/dist/vue-good-table-next.css\";\nimport Vue3Modal from \"vue3-modal\";\nexport default {\n  components: {\n    VueGoodTable,\n    Vue3Modal,\n  },\n  setup() {\n    const authStore = useAuthStore();\n    const apiData = ref([]);\n    const editedUser = ref({ username: \"\", email: \"\" });\n    const isEditModalOpen = ref(false);\n    const isDeleteModalOpen = ref(false);\n    const userIdToDelete = ref(null);\n\n    const columns = [\n      { label: \"Username\", field: \"username\" },\n      { label: \"Email\", field: \"email\" },\n      { label: \"Actions\", sortable: false },\n    ];\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://103.164.54.252:8000/api/users\",\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n\n        apiData.value = response.data.map((user) => ({\n          username: user.username,\n          email: user.email,\n          id: user.id, // Untuk digunakan dalam fungsi edit dan delete\n        }));\n\n        console.log(apiData.value); // Output data ke konsol untuk memeriksa strukturnya\n      } catch (error) {\n        console.error(\"Failed to fetch data:\", error);\n      }\n    };\n\n    const openEditModal = (user) => {\n      editedUser.value = { ...user };\n      isEditModalOpen.value = true;\n    };\n\n    const closeEditModal = (close) => {\n      editedUser.value = { username: \"\", email: \"\" };\n      isEditModalOpen.value = false;\n      close();\n    };\n\n    const updateUser = async (close) => {\n      try {\n        await axios.put(\n          `http://103.164.54.252:8000/api/users/${editedUser.value.id}`,\n          editedUser.value,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        closeEditModal(close);\n        fetchData();\n      } catch (error) {\n        console.error(\"Failed to update user:\", error);\n      }\n    };\n\n    const openDeleteModal = (userId) => {\n      userIdToDelete.value = userId;\n      isDeleteModalOpen.value = true;\n    };\n\n    const closeDeleteModal = (close) => {\n      userIdToDelete.value = null;\n      isDeleteModalOpen.value = false;\n      close();\n    };\n\n    const deleteUser = async (close) => {\n      try {\n        await axios.delete(\n          `http://103.164.54.252:8000/api/users/${userIdToDelete.value}`,\n          {\n            headers: {\n              Authorization: `Bearer ${authStore.token}`,\n            },\n          }\n        );\n        closeDeleteModal(close);\n        fetchData();\n      } catch (error) {\n        console.error(\"Failed to delete user:\", error);\n      }\n    };\n\n    onMounted(() => {\n      fetchData();\n    });\n\n    return {\n      columns,\n      apiData,\n      isEditModalOpen,\n      isDeleteModalOpen,\n      openEditModal,\n      closeEditModal,\n      updateUser,\n      openDeleteModal,\n      closeDeleteModal,\n      deleteUser,\n    };\n  },\n};\n</script>\n\n<style scoped>\n/* Gaya tambahan jika diperlukan */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}